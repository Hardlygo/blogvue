webpackJsonp([1],{"0OdO":function(t,e){},"0iBE":function(t,e){},"5Qkr":function(t,e){},"5U9O":function(t,e){},"5W1q":function(t,e){},"6CFI":function(t,e){},"7QKb":function(t,e){},"7gY8":function(t,e){},KdbG:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("/ocq"),o=a("+6Bu"),i=a.n(o)()({user:{register:{url:"/user/register",type:"post",method:"formPost"},login:{url:"/user/login",type:"post",method:"formPost"},userinfo:{url:"/user/userinfo",type:"post",method:"formPost"},logout:{url:"/user/logout",type:"post",method:"formPost"}},post:{newpost:{url:"/post/newpost",type:"post",method:"formPost"},delete:{url:"/post/delete",type:"post",method:"formPost"},getpost:{url:"/post/getpost",type:"get",method:"get"},getposts:{url:"/post/getposts",type:"get",method:"get"}},comment:{getcomments:{url:"/comment/getcomments",type:"post",method:"formPost"},addcomment:{url:"/comment/addcomment",type:"post",method:"formPost"},removecomment:{url:"/comment/removecomment",type:"post",method:"formPost"},removeall:{url:"/comment/removeall",type:"post",method:"formPost"},commentcounts:{url:"/comment/commentcounts",type:"get",method:"get"}}},[]),r={data:function(){return{name:"",password:""}},methods:{checkLogin:function(){var t=this;this.timer&&this.myToast.close(),this.Indicator.open({text:"马路锦无敌可爱...",spinnerType:"fading-circle"});var e={name:this.name,password:this.password};this.http(i.user.login,e).then(function(e){t.timer=setTimeout(function(){t.Indicator.close(),1==e.statu?setTimeout(function(){t.$router.push({path:"/home"})},1500):t.myToast=t.Toast({message:e.detail,position:"bottom"})},3e3)}).catch(function(e){t.timer=setTimeout(function(){t.Indicator.close(),t.myToast=t.Toast({message:"你惹马路锦生气了，去低头认错乖",position:"bottom"})},2e3)})},goRegister:function(){console.log("去注册了"),this.$router.push({path:"/register"})}},created:function(){},mounted:function(){}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"text-align":"center","margin-top":"85px"}},[n("img",{attrs:{src:a("UX5u")}}),t._v(" "),n("div",{staticStyle:{padding:"10px"},attrs:{id:"request-form"}},[n("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("mt-field",{attrs:{label:"密码",placeholder:"请输入密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),n("mt-button",{attrs:{type:"primary",size:"large"},nativeOn:{click:function(e){return t.checkLogin(e)}}},[t._v("登陆")])],1),t._v(" "),n("div",{staticStyle:{"text-align":"right","margin-top":"8px"}},[n("span",{staticStyle:{color:"#8a6d3b","font-size":"8px"},on:{click:t.goRegister}},[t._v("还没有账号？现在就注册")])])])},staticRenderFns:[]};var l=a("VU/8")(r,c,!1,function(t){a("6CFI")},null,null).exports,u=a("woOf"),p=a.n(u),m=(a("5Qkr"),a("5SB6")),d=a("1Wvq"),f={components:{FileUpload:a.n(d).a},props:{uploadform:{type:Object}},data:function(){return{files:[],cutFile:void 0,edit:!1,cropper:!1}},mounted:function(){},watch:{edit:function(t){t?this.$nextTick(function(){if(this.$refs.editImage){var t=new m.a(this.$refs.editImage,{aspectRatio:1,viewMode:1,modal:!0});this.cropper=t,this.$emit("onShowForm",!1)}}):this.cropper&&(this.cropper.destroy(),this.cropper=!1,this.$emit("onShowForm",!0))}},methods:{customAction:function(){},goUpload:function(){var t=this.cutFile,e={};return p()(e,{avatar:t},this.uploadform),this.http(i.user.register,e)},editSave:function(){this.edit=!1;for(var t=this.files[0],e=atob(this.cropper.getCroppedCanvas().toDataURL(t.type).split(",")[1]),a=new Uint8Array(e.length),n=0;n<e.length;n++)a[n]=e.charCodeAt(n);var s=new File([a],t.name,{type:t.type});this.cutFile=s,this.$refs.upload.update(t.id,{file:s,type:s.type,size:s.size,active:!1})},alert:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){alert(t)}),inputFile:function(t,e,a){t&&!e&&(console.log(1),this.$nextTick(function(){this.edit=!0})),!t&&e&&(console.log(2),this.edit=!1)},inputFilter:function(t,e,a){if(t||e||console.log(3),t&&!e&&(console.log(4),!/\.(gif|jpg|jpeg|png|webp)$/i.test(t.name)))return this.alert("Your choice is not a picture"),a();if(t&&(!e||t.file!==e.file)){console.log(5),t.url="";var n=window.URL||window.webkitURL;n&&n.createObjectURL&&(t.url=n.createObjectURL(t.file))}}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"example-avatar"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.edit,expression:"!edit"}],staticClass:"avatar-upload"},[a("div",{staticClass:"text-center p-2"},[a("label",{attrs:{for:"avatar"}},[a("img",{staticClass:"rounded-circle",attrs:{src:t.files.length?t.files[0].url:"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm"}})])]),t._v(" "),a("div",{staticClass:"text-center p-2"},[a("file-upload",{ref:"upload",staticClass:"btn btn-primary",attrs:{maximum:1,data:t.uploadform,extensions:"gif,jpg,jpeg,png,webp",accept:"image/png,image/gif,image/jpeg,image/webp",name:"avatar","custom-action":t.customAction,drop:!1},on:{"input-filter":t.inputFilter,"input-file":t.inputFile},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:0==t.files.length,expression:"files.length==0"}]},[t._v("选择头像")])])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.files.length&&t.edit,expression:"files.length && edit"}],staticClass:"avatar-edit"},[a("div",{staticClass:"text-center p-4"},[a("div",{staticStyle:{"z-index":"999999",padding:"6px"}},[a("mt-button",{staticStyle:{float:"left"},nativeOn:{click:function(e){return e.preventDefault(),t.$refs.upload.clear(e)}}},[a("span",{staticStyle:{color:"red"},attrs:{slot:"icon"},slot:"icon"},[a("i",{staticClass:"fa fa-close fa-2x"})])]),t._v(" "),a("mt-button",{staticStyle:{float:"right"},nativeOn:{click:function(e){return e.preventDefault(),t.editSave(e)}}},[a("span",{staticStyle:{color:"green"},attrs:{slot:"icon"},slot:"icon"},[a("i",{staticClass:"fa fa-check fa-2x"})])])],1)]),t._v(" "),t.files.length?a("div",{staticClass:"avatar-edit-image",staticStyle:{height:"500px","margin-top":"50px"}},[a("img",{ref:"editImage",attrs:{src:t.files[0].url}})]):t._e()])])},staticRenderFns:[]};var v=a("VU/8")(f,h,!1,function(t){a("7QKb")},null,null).exports,g={data:function(){var t=this;return{imageURI:a("UX5u"),ShowForm:!0,userData:{name:"",password:"",password1:"",bio:"",gender:""},gender:"",chooseSex:!1,sexActions:[{name:"男",method:function(){t.gender="男",t.userData.gender="f"}},{name:"女",method:function(){t.gender="女",t.userData.gender="m"}},{name:"保密",method:function(){t.gender="保密",t.userData.gender="x"}}]}},methods:{regist:function(){var t=this;this.timer&&this.myToast.close(),this.Indicator.open({text:"马路锦无敌可爱...",spinnerType:"fading-circle"}),this.$refs.avatar.goUpload().then(function(e){console.log(e),1==e.statu?t.timer=setTimeout(function(){t.Indicator.close(),t.myToast=t.Toast({message:"小仙女批准了，为您跳转登陆",iconClass:"icon icon-success",position:"middle"}),setTimeout(function(){t.myToast.close(),t.$router.push({path:"/login"})},1500)},3e3):t.timer=setTimeout(function(){t.Indicator.close(),t.myToast=t.Toast({message:e.detail,position:"bottom"})},2e3)}).catch(function(e){t.timer=setTimeout(function(){t.Indicator.close(),t.myToast=t.Toast({message:"你惹马路锦生气了，去低头认错乖",position:"bottom"})},2e3)})},onShowForm:function(t){this.ShowForm=t},getSex:function(){this.chooseSex=!this.chooseSex}},created:function(){},mounted:function(){},watch:{},components:{UploadAvatart:v}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("mt-header",{attrs:{fixed:"",title:"注册账号"}},[a("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[a("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1)],1),t._v(" "),a("div",{staticStyle:{"padding-top":"40px"}},[a("upload-avatart",{ref:"avatar",staticStyle:{"text-align":"center"},attrs:{uploadform:t.userData},on:{onShowForm:t.onShowForm}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.ShowForm,expression:"ShowForm"}]},[a("div",[a("mt-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}}),t._v(" "),a("mt-field",{attrs:{label:"性别",placeholder:"请输入男|女|保密",readonly:"",disableClear:""},nativeOn:{click:function(e){return t.getSex(e)}},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}}),t._v(" "),a("mt-field",{attrs:{label:"密码",type:"password",placeholder:"请输入密码"},model:{value:t.userData.password,callback:function(e){t.$set(t.userData,"password",e)},expression:"userData.password"}}),t._v(" "),a("mt-field",{attrs:{label:"确认密码",type:"password",placeholder:"请再次输入密码"},model:{value:t.userData.password1,callback:function(e){t.$set(t.userData,"password1",e)},expression:"userData.password1"}}),t._v(" "),a("mt-field",{attrs:{label:"自我介绍",placeholder:"自我介绍",type:"textarea",rows:"4"},model:{value:t.userData.bio,callback:function(e){t.$set(t.userData,"bio",e)},expression:"userData.bio"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"12px"}},[a("mt-button",{attrs:{type:"primary",size:"large"},nativeOn:{click:function(e){return t.regist(e)}}},[t._v("注册")])],1),t._v(" "),a("mt-actionsheet",{attrs:{actions:t.sexActions,closeOnClickModal:!0},model:{value:t.chooseSex,callback:function(e){t.chooseSex=e},expression:"chooseSex"}})],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(g,y,!1,function(t){a("yKqm")},null,null).exports,x=a("mtWM"),w=a.n(x),_={data:function(){return{files:[]}},methods:{chooseFile:function(){console.log(this.$refs.file),this.$refs.file.change(function(t){console.log(1111)})},uploadAvatar:function(t){console.log(t.target.files[0]);var e=t.target.files[0],a=new FormData;return a.append("file",e,e.name),a.append("data",112),console.log(a.get("file")),w.a.post("http://127.0.0.1:3000/user/file",a,{headers:{"content-type":"multipart/form-data"}})},cropImag:function(){var t=document.getElementById("image");new m.a(t,{aspectRatio:16/9,crop:function(t){console.log(t.detail.x),console.log(t.detail.y),console.log(t.detail.width),console.log(t.detail.height),console.log(t.detail.rotate),console.log(t.detail.scaleX),console.log(t.detail.scaleY)}})}}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("a",{staticClass:"upload",attrs:{href:"javascript:;"},on:{click:this.chooseFile}},[e("div",[e("label",{attrs:{for:"avatar"}},[e("img",{staticClass:"rounded-circle",attrs:{src:this.files.length?this.files[0].url:"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm"}})])]),this._v(" "),e("input",{ref:"file",staticClass:"change",staticStyle:{dispaly:"none"},attrs:{type:"file"}})])])},staticRenderFns:[]};var k=a("VU/8")(_,C,!1,function(t){a("0OdO"),a("5U9O")},null,null).exports,S={props:{DataList:{type:Object}},data:function(){return{content:"<p>欢迎来踩</p>\ndasda<br/>adasdasdfsdfsdfsdfsdfsdfsdfsdfafsdfsdafsdafsdfsdfsdfsadfs111111<br/>asdasdas<br/>asdsad<br/>"}},methods:{}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"content-card",staticStyle:{padding:"8px","text-align":"left"}},[this._m(0),this._v(" "),e("div",{staticClass:"content",staticStyle:{"font-size":"14px","line-height":"1.7","text-indent":"1em"},domProps:{innerHTML:this._s(this.content)}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-heard"},[e("img",{staticClass:"avatar",attrs:{src:"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm"}}),this._v(" "),e("div",{staticStyle:{"margin-left":"6px"}},[e("h3",{staticStyle:{"line-height":"8px",color:"#87CEEB"}},[this._v("第一次")]),this._v(" "),e("span",{staticStyle:{color:"#999","font-size":"12px","text-align":"left"}},[this._v("作者：hardly | 时间：2018-01-01 | 浏览：8 | "),e("a",{attrs:{href:"#"}},[this._v("详情")])])])])}]};var $=a("VU/8")(S,T,!1,function(t){a("0iBE")},null,null).exports,U=a("a8Xx"),F=a.n(U),E={directives:{clampy:F.a},props:{post:{type:Object}},data:function(){return{}},computed:{imgUrl:function(){return this.post.author.avatar?"http://127.0.0.1:3000/"+this.post.author.avatar:"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm"}},methods:{toContent:function(t){this.$router.push({name:"postcontent",params:{id:t}})}}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-card",staticStyle:{margin:"6px","text-align":"left","margin-bottom":"2px",padding:"3px"}},[a("div",{staticClass:"card-heard"},[a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}),t._v(" "),a("div",{staticStyle:{"margin-left":"6px"}},[a("span",{staticStyle:{"line-height":"8px",color:"#87CEEB"}},[a("a",{attrs:{href:"javacript:void(0);"}},[t._v(t._s(t.post.author.name))])]),a("br"),t._v(" "),a("span",{staticStyle:{color:"#999","font-size":"12px","text-align":"left"}},[t._v("时间："+t._s(t.post.create_at)+" | 浏览："+t._s(t.post.pv)+"\n        ")])])]),t._v(" "),a("div",{directives:[{name:"clampy",rawName:"v-clampy",value:5,expression:"5"}],staticClass:"content",staticStyle:{"font-size":"14px","line-height":"1.7"},domProps:{innerHTML:t._s(t.post.content)},on:{click:function(e){t.toContent(t.post._id)}}})])])},staticRenderFns:[]};var D={components:{PostCard:a("VU/8")(E,R,!1,function(t){a("gJLy")},null,null).exports},props:{PostList:{type:Array}},data:function(){return{}},methods:{}},I={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._l(this.PostList,function(t,a){return[e("PostCard",{key:a,attrs:{post:t}})]})],2)},staticRenderFns:[]};var P=a("VU/8")(D,I,!1,function(t){a("jE4e")},null,null).exports,j=(a("j0o+"),{created:function(){this.getUserInfo()},data:function(){return{user:{}}},computed:{imgUrl:function(){return this.user.avatar?"http://127.0.0.1:3000/"+this.user.avatar:"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm"}},methods:{getUserInfo:function(){var t=this;this.http(i.user.userinfo).then(function(e){e.statu&&(t.user=e.data,console.log(t.user))}).catch(function(e){t.myToast=t.Toast({message:e,position:"bottom"})})}}}),O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"info-card"},[a("img",{staticClass:"myself",attrs:{src:t.imgUrl}}),a("br"),t._v(" "),a("span",{staticStyle:{"margin-top":"2px"}},[t._v(t._s(t.user.name))]),a("br"),t._v(" "),a("span",{staticStyle:{"margin-top":"2px",color:"#999","font-size":"10px"}},[t._v(t._s(t.user.bio))]),a("br")]),t._v(" "),a("div")])},staticRenderFns:[]};var L={components:{PostList:P,userinfo:a("VU/8")(j,O,!1,function(t){a("YXNI")},null,null).exports},data:function(){return{active:"部落",posts:[]}},methods:{logout:function(){this.http(i.user.logout).then(function(t){}).catch(function(t){})},getposts:function(){var t=this;this.http(i.post.getposts).then(function(e){0==e.statu?t.myToast=t.Toast({message:e.data.msg,position:"bottom"}):t.posts=e.data}).catch(function(e){t.myToast=t.Toast({message:e,position:"bottom"})})},newPost:function(){this.$router.push({path:"/input"})}},created:function(){this.getposts()}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"header"}},[a("mt-header",{attrs:{fixed:"",title:t.active}},[a("mt-button",{attrs:{slot:"right"},nativeOn:{click:function(e){return t.newPost(e)}},slot:"right"},[a("i",{staticClass:"fa fa-plus fa-lg"})])],1)],1),t._v(" "),a("div",{attrs:{id:"content"}},[a("mt-tab-container",{attrs:{swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("mt-tab-container-item",{attrs:{id:"部落"}},[a("div"),t._v(" "),a("scroller",{ref:"myscroller"},[a("PostList",{attrs:{PostList:t.posts}})],1)],1),t._v(" "),a("mt-tab-container-item",{attrs:{id:"我的"}},[a("scroller",{ref:"myscroller"},[a("userinfo")],1)],1)],1)],1),t._v(" "),a("div",{attrs:{id:"footer"}},[a("mt-tabbar",{attrs:{fixed:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("mt-tab-item",{attrs:{id:"部落"}},[a("span",{staticStyle:{"font-size":"12px"},attrs:{slot:"icon"},slot:"icon"},[a("i",{staticClass:"fa fa-home fa-2x"})]),t._v(" "),a("span",[t._v("部落")])]),t._v(" "),a("mt-tab-item",{attrs:{id:"我的"}},[a("span",{staticStyle:{"font-size":"12px"},attrs:{slot:"icon"},slot:"icon"},[a("i",{staticClass:"fa fa-user-o fa-2x"})]),t._v(" "),a("span",[t._v("我的")])])],1)],1)])},staticRenderFns:[]};var A=a("VU/8")(L,z,!1,function(t){a("Xyhe")},null,null).exports,M={data:function(){return{content:""}},methods:{updateData:function(t){this.content=t},doPublish:function(){var t=this,e={content:this.content};this.http(i.post.newpost,e).then(function(e){0==e.statu?t.myToast=t.Toast({message:e.data.msg+",mama看不懂",position:"bottom"}):(t.myToast=t.Toast({message:"收到！我会帮你告诉mama",position:"bottom"}),t.$router.push({path:"/home"}))}).catch(function(e){t.myToast=t.Toast({message:e,position:"bottom"})})},back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)}}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"header"}},[a("mt-header",{attrs:{fixed:"",title:"说说你想说的吧"}},[a("mt-button",{attrs:{slot:"left"},nativeOn:{click:function(e){return t.back(e)}},slot:"left"},[a("i",{staticClass:"fa fa-chevron-left fa-lg"}),t._v("返回")]),t._v(" "),a("mt-button",{attrs:{slot:"right"},on:{click:t.doPublish},slot:"right"},[t._v("发表")])],1)],1),t._v(" "),a("div",{attrs:{id:"content"}},[a("vue-html5-editor",{attrs:{"auto-height":!0,content:t.content,height:500},on:{change:t.updateData}})],1)])},staticRenderFns:[]};var N=a("VU/8")(M,q,!1,function(t){a("Pibd")},null,null).exports,V={props:{comment:{type:Object}},computed:{imgUrl:function(){return this.comment.author.avatar?"http://127.0.0.1:3000/"+this.comment.author.avatar:"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm"}},data:function(){return{}},methods:{}},X={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"comments"},[a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}),t._v(" "),a("div",{staticStyle:{"margin-left":"32px","font-size":"10px"}},[a("span",{staticStyle:{"line-height":"8px",color:"#87CEEB"}},[a("a",{attrs:{href:"javacript:void(0);"}},[t._v(t._s(t.comment.author?t.comment.author.name:""))])]),t._v("\n     "),a("span",{staticStyle:{color:"#999","font-size":"8px","text-align":"left"}},[t._v("时间："+t._s(t.comment.create_at))]),a("br"),t._v(" "),a("div",{staticClass:"comment",domProps:{innerHTML:t._s(t.comment.content)}})]),t._v(" "),a("div",{staticStyle:{padding:"8px 0px 8px 0px","border-top":"#CCC solid 0.5px"}})])},staticRenderFns:[]};var H={components:{comment:a("VU/8")(V,X,!1,function(t){a("KdbG")},null,null).exports},data:function(){return{post:{},comments:[],commentsCount:0,showInput:!1,commentContent:""}},computed:{imgUrl:function(){return this.post.author?"http://127.0.0.1:3000/"+this.post.author.avatar:"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm"}},created:function(){this.getPost({id:this.$route.params.id}),this.getComments({id:this.$route.params.id}),this.getCommentCount({postId:this.$route.params.id})},methods:{back:function(){if(window.history.length<=1)return this.$router.push({path:"/"}),!1;this.$router.go(-1)},getPost:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.http(i.post.getpost,e).then(function(e){t.post=e.data}).catch(function(e){t.Toast({message:e,position:"bottom"})})},getComments:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.http(i.comment.getcomments,e).then(function(e){t.comments=e.data}).catch(function(e){t.Toast({message:e,position:"bottom"})})},getCommentCount:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.http(i.comment.commentcounts,e).then(function(e){isNaN(e.data)||(t.commentsCount=e.data)}).catch(function(e){t.Toast({message:e,position:"bottom"})})},showCommentInput:function(){this.showInput=!0},newComment:function(){var t=this;if(""!=this.commentContent){this.showInput=!1;var e={postId:this.$route.params.id,content:this.commentContent};this.http(i.comment.addcomment,e).then(function(e){1==e.statu?(t.getComments({id:t.$route.params.id}),t.getCommentCount({postId:t.$route.params.id}),t.commentContent=""):t.Toast({message:e.data.msg,position:"bottom"})}).catch(function(e){t.Toast({message:e,position:"bottom"})})}}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"header"}},[a("mt-header",{attrs:{fixed:"",title:"圈圈内容"}},[a("mt-button",{attrs:{slot:"left"},nativeOn:{click:function(e){return t.back(e)}},slot:"left"},[a("i",{staticClass:"fa fa-chevron-left fa-lg"}),t._v("返回")])],1)],1),t._v(" "),a("div",{attrs:{id:"postcontent"}},[a("scroller",{ref:"myscroller"},[a("div",{staticClass:"card-heard"},[a("img",{staticClass:"avatar",attrs:{src:t.imgUrl}}),t._v(" "),a("div",{staticStyle:{"margin-left":"6px"}},[a("span",{staticStyle:{"line-height":"8px",color:"#87CEEB"}},[a("a",{attrs:{href:"javacript:void(0);"}},[t._v(t._s(t.post.author?t.post.author.name:""))])]),a("br"),t._v(" "),a("span",{staticStyle:{color:"#999","font-size":"12px","text-align":"left"}},[t._v("时间："+t._s(t.post.create_at)+" | 浏览："+t._s(t.post.pv)+"\n          ")])])]),t._v(" "),a("div",{staticClass:"content",staticStyle:{"font-size":"14px","line-height":"1.7"},domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),a("div",{staticClass:"comments"},[a("h6",{staticStyle:{background:"#DCDCDC"}},[t._v("留言"+t._s("("+t.commentsCount+")")+" "),a("i",{staticClass:"fa fa-plus fa-lg",staticStyle:{float:"right",padding:"3px",color:"#CD5C5C","margin-right":"6px"},on:{click:t.showCommentInput}})]),t._v(" "),t._l(t.comments,function(t,e){return[a("comment",{key:e,attrs:{comment:t}})]})],2)])],1),t._v(" "),a("mt-popup",{staticStyle:{width:"100%"},attrs:{position:"bottom","popup-transition":"popup-fade"},model:{value:t.showInput,callback:function(e){t.showInput=e},expression:"showInput"}},[a("mt-field",{staticStyle:{background:"#E8E8E8"},attrs:{placeholder:"马路锦最可爱~~",type:"textarea",rows:"4"},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}}),t._v(" "),a("mt-button",{staticStyle:{width:"100%","padding-bottom":"8px"},nativeOn:{click:function(e){return t.newComment(e)}}},[a("span",{staticStyle:{color:"#FF6A6A"}},[t._v("让她知道吧")])])],1)],1)},staticRenderFns:[]};var W=a("VU/8")(H,B,!1,function(t){a("7gY8")},null,null).exports;n.default.use(s.a);var Y=new s.a({routes:[{path:"/login",alias:"/",name:"Login",component:l},{path:"/register",name:"Register",component:b},{path:"/test",name:"test",component:v},{path:"/t",name:"t",component:k},{path:"/c",name:"c",component:$},{path:"/home",name:"home",component:A},{path:"/input",name:"input",component:N},{path:"/postcontent",name:"postcontent",component:W}]}),K=a("Au9i"),J=a.n(K),Q=(a("d8/S"),a("5W1q"),a("T1ft")),G=a.n(Q),Z=a("POcy"),tt=a.n(Z),et=a("g6v0"),at=a.n(et),nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var st=a("VU/8")({name:"App"},nt,!1,function(t){a("yHml")},null,null).exports,ot=a("//Fk"),it=a.n(ot),rt=(a("8A1c"),function(t,e){t=new Date(t),/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var n in a)if(new RegExp("("+n+")").test(e)){var s=a[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?s:ct(s))}return e});function ct(t){return("00"+t).substr(t.length)}var lt={metyou:rt(new Date("2018-07-07"),"yyyy-MM-dd"),then:"want to stay with you",wish:"do not leave me alone",leave:"never"},ut={currentUser:""};w.a.defaults.timeout=1e6,w.a.defaults.baseURL="http://127.0.0.1:3000",w.a.defaults.withCredentials=!0,w.a.interceptors.request.use(function(t){return t.headers="get"==t.method?{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json; charset=UTF-8"}:{"Content-Type":"multipart/form-data;charset=utf-8",Accept:"application/json, text/javascript, */*; q=0.01","X-Requested-With":"XMLHttpRequest"},t},function(t){return it.a.reject(err)}),w.a.interceptors.response.use(function(t){return t},function(t){if(t&&t.response)switch(t.response.status){case 400:t.message="错误请求(400)。";break;case 401:t.message="未授权，请重新登录(401)。";break;case 403:t.message="拒绝访问(403)。";break;case 404:t.message="请求错误,未找到该资源(404)。";break;case 405:t.message="请求方法未允许(405)。";break;case 408:t.message="请求超时(408)。";break;case 500:t.message="服务器端出错(500)。";break;case 501:t.message="网络未实现(501)。";break;case 502:t.message="网络错误(502)。";break;case 503:t.message="服务不可用。";break;case 504:t.message="网络超时(504)。";break;case 505:t.message="http版本不支持该请求(505)。";break;default:t.message="连接错误："+t.response.status}else t.message="连接到服务器失败。";return it.a.reject(t.message)});var pt={name:"vue-html5-editor",showModuleName:!1,icons:{text:"fa fa-pencil",color:"fa fa-paint-brush",font:"fa fa-font",align:"fa fa-align-justify",list:"fa fa-list",link:"fa fa-chain",unlink:"fa fa-chain-broken",tabulation:"fa fa-table",image:"fa fa-file-image-o",hr:"fa fa-minus",eraser:"fa fa-eraser",undo:"fa-undo fa","full-screen":"fa fa-arrows-alt",info:"fa fa-info"},image:{sizeLimit:262144,upload:{url:null,headers:{},params:{},fieldName:{}},compress:{width:324,height:324,quality:80},uploadHandler:function(t){var e=JSON.parse(t);if(e.ok)return e.data;alert(e.msg)}},language:"zh-cn",i18n:{"zh-cn":{align:"对齐方式",image:"图片",list:"列表",link:"链接",unlink:"去除链接",table:"表格",font:"文字","full screen":"全屏",text:"排版",eraser:"格式清除",info:"关于",color:"颜色","please enter a url":"请输入地址","create link":"创建链接",bold:"加粗",italic:"倾斜",underline:"下划线","strike through":"删除线",subscript:"上标",superscript:"下标",heading:"标题","font name":"字体","font size":"文字大小","left justify":"左对齐","center justify":"居中","right justify":"右对齐","ordered list":"有序列表","unordered list":"无序列表","fore color":"前景色","background color":"背景色","row count":"行数","column count":"列数",save:"确定",upload:"上传",progress:"进度",unknown:"未知","please wait":"请稍等",error:"错误",abort:"中断",reset:"重置"}},hiddenModules:[],visibleModules:["text","color","font","align","list","link","unlink","tabulation","image","hr","eraser","undo","full-screen","info"],modules:{}},mt=a("ppUw"),dt=a.n(mt);n.default.use(tt.a),n.default.use(J.a),n.default.component("v-select",G.a),n.default.use(dt.a),n.default.use(F.a),n.default.use(at.a,pt),n.default.prototype.Indicator=K.Indicator,n.default.prototype.Toast=K.Toast,n.default.prototype.http=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p()(e,ut),"get"==t.method?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new it.a(function(a,n){w.a.get(t,{params:e}).then(function(t){t&&t.data?(p()(lt,t.data),a(lt)):a(t)}).catch(function(t){n(t)})})}(t.url,e):"post"==t.method?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URLSearchParams;for(var n in e)a.append(n,e[n]);return new it.a(function(e,n){w.a.post(t,a).then(function(t){p()(lt,t.data),e(lt)},function(t){n(t)})})}(t.url,e):function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new FormData;for(var n in e)e[n]&&"File"==e[n].constructor.name?a.append(n,e[n],e[n].name):a.append(n,e[n]);return new it.a(function(e,n){w.a.post(t,a).then(function(t){p()(lt,t.data),e(lt)},function(t){n(t)})})}(t.url,e)},n.default.config.productionTip=!1,new n.default({el:"#app",router:Y,components:{App:st},template:"<App/>"})},Pibd:function(t,e){},UX5u:function(t,e,a){t.exports=a.p+"static/img/mylogo.2a22c6e.png"},Xyhe:function(t,e){},YXNI:function(t,e){},"d8/S":function(t,e){},gJLy:function(t,e){},"j0o+":function(t,e){},jE4e:function(t,e){},yHml:function(t,e){},yKqm:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.4959a67d055300291833.js.map